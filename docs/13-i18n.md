# Internationalization (i18n)

## Supported Languages

**MVP (Launch):**
- ğŸ‡·ğŸ‡º Russian (Ğ ÑƒÑÑĞºĞ¸Ğ¹)
- ğŸ‡¬ğŸ‡§ English (English)
- ğŸ‡¨ğŸ‡¿ Czech (ÄŒeÅ¡tina)
- ğŸ‡µğŸ‡± Polish (Polski)
- ğŸ‡©ğŸ‡ª German (Deutsch)

**Roadmap:**
- ğŸ‡®ğŸ‡¹ Italian (Italiano)
- ğŸ‡³ğŸ‡± Dutch (Nederlands)
- ğŸ‡«ğŸ‡· French (FranÃ§ais)
- ğŸ‡ªğŸ‡¸ Spanish (EspaÃ±ol)

## Language Selection Hierarchy

```
1. User-level (personal preference)
   â””â”€ Overrides everything

2. Company-level (default for all users)
   â””â”€ Applied on registration

3. Browser-level (detected from Accept-Language header)
   â””â”€ Used only for login page before authentication
```

## Implementation (Angular)

**Setup:**

```typescript
// app.config.ts
import { provideTranslateService, TranslateLoader } from '@ngx-translate/core';
import { HttpClient } from '@angular/common/http';
import { TranslateHttpLoader } from '@ngx-translate/http-loader';

export function HttpLoaderFactory(http: HttpClient) {
  return new TranslateHttpLoader(http, './assets/i18n/', '.json');
}

export const appConfig: ApplicationConfig = {
  providers: [
    provideHttpClient(),
    provideTranslateService({
      defaultLanguage: 'en',
      loader: {
        provide: TranslateLoader,
        useFactory: HttpLoaderFactory,
        deps: [HttpClient]
      }
    })
  ]
};
```

**Translation Files:**

```
src/assets/i18n/
â”œâ”€â”€ en.json  (English)
â”œâ”€â”€ ru.json  (Russian)
â”œâ”€â”€ cs.json  (Czech)
â”œâ”€â”€ pl.json  (Polish)
â””â”€â”€ de.json  (German)
```

**Example - en.json:**

```json
{
  "COMMON": {
    "SAVE": "Save",
    "CANCEL": "Cancel",
    "DELETE": "Delete",
    "EDIT": "Edit",
    "SEARCH": "Search",
    "FILTER": "Filter"
  },
  "DRIVERS": {
    "TITLE": "Drivers",
    "ADD_DRIVER": "Add Driver",
    "READINESS": {
      "READY": "Ready for delivery",
      "NOT_READY": "Not ready",
      "WARNING": "Warning"
    },
    "DOCUMENTS": {
      "PASSPORT": "Passport",
      "DRIVERS_LICENSE": "Driver's License",
      "MEDICAL_EXAM": "Medical Examination",
      "ADR_CERTIFICATE": "ADR Certificate"
    },
    "STATUS": {
      "ACTIVE": "Active",
      "ON_LEAVE": "On Leave",
      "INACTIVE": "Inactive",
      "TERMINATED": "Terminated"
    }
  }
}
```

**Example - cs.json:**

```json
{
  "COMMON": {
    "SAVE": "UloÅ¾it",
    "CANCEL": "ZruÅ¡it",
    "DELETE": "Smazat",
    "EDIT": "Upravit",
    "SEARCH": "Hledat",
    "FILTER": "Filtr"
  },
  "DRIVERS": {
    "TITLE": "Å˜idiÄi",
    "ADD_DRIVER": "PÅ™idat Å™idiÄe",
    "READINESS": {
      "READY": "PÅ™ipraven k pÅ™epravÄ›",
      "NOT_READY": "NepÅ™ipraven",
      "WARNING": "VarovÃ¡nÃ­"
    },
    "DOCUMENTS": {
      "PASSPORT": "Pas",
      "DRIVERS_LICENSE": "Å˜idiÄskÃ½ prÅ¯kaz",
      "MEDICAL_EXAM": "LÃ©kaÅ™skÃ¡ prohlÃ­dka",
      "ADR_CERTIFICATE": "ADR certifikÃ¡t"
    },
    "STATUS": {
      "ACTIVE": "AktivnÃ­",
      "ON_LEAVE": "Na dovolenÃ©",
      "INACTIVE": "NeaktivnÃ­",
      "TERMINATED": "UkonÄen"
    }
  }
}
```

**Usage in Components:**

```typescript
// Component
export class DriversListComponent {
  constructor(private translate: TranslateService) {
    // Switch language
    this.translate.use('cs'); // Czech
  }

  getReadinessText(driver: Driver): string {
    return driver.isReady
      ? this.translate.instant('DRIVERS.READINESS.READY')
      : this.translate.instant('DRIVERS.READINESS.NOT_READY');
  }
}
```

```html
<!-- Template -->
<h1>{{ 'DRIVERS.TITLE' | translate }}</h1>

<button mat-raised-button>
  {{ 'DRIVERS.ADD_DRIVER' | translate }}
</button>

<mat-select [(value)]="selectedLanguage" (selectionChange)="switchLanguage($event)">
  <mat-option value="en">ğŸ‡¬ğŸ‡§ English</mat-option>
  <mat-option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</mat-option>
  <mat-option value="cs">ğŸ‡¨ğŸ‡¿ ÄŒeÅ¡tina</mat-option>
  <mat-option value="pl">ğŸ‡µğŸ‡± Polski</mat-option>
  <mat-option value="de">ğŸ‡©ğŸ‡ª Deutsch</mat-option>
</mat-select>
```

## Date/Time/Number Formatting

**Angular Pipes with Locales:**

```typescript
// app.config.ts
import { registerLocaleData } from '@angular/common';
import localeCs from '@angular/common/locales/cs';
import localePl from '@angular/common/locales/pl';
import localeDe from '@angular/common/locales/de';
import localeRu from '@angular/common/locales/ru';

registerLocaleData(localeCs);
registerLocaleData(localePl);
registerLocaleData(localeDe);
registerLocaleData(localeRu);
```

```html
<!-- Template -->
<!-- Date formatting based on locale -->
<p>{{ driver.hire_date | date:'short':'':currentLocale }}</p>

<!-- Czech: 27. 10. 2025 14:30 -->
<!-- English: 10/27/2025, 2:30 PM -->
<!-- German: 27.10.2025, 14:30 -->

<!-- Currency formatting -->
<p>{{ order.total_amount | currency:order.currency:'symbol':'1.2-2':currentLocale }}</p>

<!-- Czech: 1 000,00 KÄ -->
<!-- English: â‚¬1,000.00 -->
<!-- Polish: 1 000,00 zÅ‚ -->
```

## Email Templates (Multi-language)

**Template Structure:**

```
resources/views/emails/
â”œâ”€â”€ drivers/
â”‚   â”œâ”€â”€ invitation_en.blade.php
â”‚   â”œâ”€â”€ invitation_cs.blade.php
â”‚   â”œâ”€â”€ invitation_pl.blade.php
â”‚   â”œâ”€â”€ invitation_de.blade.php
â”‚   â””â”€â”€ invitation_ru.blade.php
â””â”€â”€ shared/
    â””â”€â”€ header.blade.php
```

**Dynamic Template Selection:**

```php
// Laravel Mail
Mail::to($driver->email)
    ->send(new DriverInvitation($driver, $preferredLanguage));

// Mail class
class DriverInvitation extends Mailable
{
    public function build()
    {
        $template = "emails.drivers.invitation_{$this->language}";

        return $this->view($template)
                    ->subject($this->getSubject());
    }

    private function getSubject(): string
    {
        return match($this->language) {
            'cs' => 'PozvÃ¡nka do G-Track TMS',
            'pl' => 'Zaproszenie do G-Track TMS',
            'de' => 'Einladung zu G-Track TMS',
            'ru' => 'ĞŸÑ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸Ğµ Ğ² G-Track TMS',
            default => 'Invitation to G-Track TMS',
        };
    }
}
```

---

**Last Updated:** October 29, 2025
**Version:** 2.0.1
**Source:** Master Specification v3.1, Section 13
