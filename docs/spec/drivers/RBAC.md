# Модуль «Водители (Driver)» — RBAC & Маскирование v0.1

## Роли

* `admin` — полный доступ, override, legal hold, нотификационные настройки
* `hr_lead` — старший HR: полные документы и **полные банковские (read)**, скачивание
* `hr` — документы полностью (без маски), банки **только с маской**; скачивание
* `dispatcher` — операционные данные, **маски** на номера документов, без банков/скачиваний
* `accountant` — банковские **полностью** (R/W), документы **с маской**, без скачиваний
* `driver(self)` — свои данные полностью, загрузка документов (state всегда `pending_approval`)

## Multi-Role & Groups

* `effectiveRoles = union(userRoles ∪ groupRoles)`
* Если хотя бы одна роль даёт полномочие → оно доступно (R/W/D)

## Временные аппрувы (AccessRequest)

* `scopes`: `bank_full`, `doc_numbers_full` (read-only, без скачивания)
* `approver`: `hr_lead|admin`; срок по умолчанию 8 часов (ASSUMPTION)
* Нотификации: Inbox + e-mail; аудит всех раскрытий

## Маскирование

* Документы/нац. ID: `****1234` (последние 4) — видят полностью `admin/hr/hr_lead/driver(self)`
* Банки: полностью `admin/accountant/hr_lead/driver(self)`; `hr` — маска; остальные — нет доступа

## Скачивания вложений

* `admin/hr/hr_lead/driver(self)` (свои) — разрешено, остальным запрещено; всё логируется

---
